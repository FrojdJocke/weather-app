(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{25:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(15),r=c.n(n),l=(c(24),c(25),c(19)),i=c(2),d=Object(s.createContext)([]),j=c(9),o=function(e){return"http://openweathermap.org/img/wn/".concat(e,"@2x.png")},x=function(e){if(e)switch(e.getDay()){case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return"Sunday"}},h=function(e){var t=e.toLocaleTimeString("sv-SE").split(":");return"".concat(t[0],":").concat(t[1])},m=function(e){return new Date(1e3*e)},b=c(35),u=c(36),O=c(37),f=c(38),p=c(0),v=function(e){var t=e.data;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{className:"text-center",children:m(t.dt).getHours()}),Object(p.jsx)("td",{className:"align-items-center text-center",children:Object(p.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[Object(p.jsx)("img",{className:"table-weather-icon",src:o(t.weather[0].icon),alt:t.weather[0].description})," ",Math.round(t.temp),"\xb0"]})}),Object(p.jsxs)("td",{className:"text-center",children:[Math.round(t.feels_like),"\xb0"]}),Object(p.jsx)("td",{className:"text-center",children:parseFloat(t.rain?t.rain["1h"]:0).toFixed(1)}),Object(p.jsx)("td",{className:"text-center",children:t.humidity})]})},N=function(e){var t=e.data,c=e.hours,a=t.dt,n=m(a),r=n.toString().split(" "),l=Object(s.useState)(!1),i=Object(j.a)(l,2),d=i[0],N=i[1];return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"row mt-3 shadow forecast-card fs-5 cursor-pointer",onClick:function(){N(!d)},children:[Object(p.jsxs)("div",{className:"col-12 d-md-none d-flex justify-content-start align-items-baseline border-bottom py-2",children:[Object(p.jsx)("label",{className:"pe-2 fs-5 fw-bold",children:x(n)}),Object(p.jsxs)("span",{children:[r[2]," ",r[1]]})]}),Object(p.jsxs)("div",{className:"col-2 col-md-4 col-lg-3 d-flex justify-content-start align-items-center border-md-end",children:[Object(p.jsx)("img",{src:o(t.weather[0].icon),className:"weather-icon me-3",alt:t.weather[0].description}),Object(p.jsxs)("div",{className:"d-none d-md-block",children:[Object(p.jsx)("h4",{children:x(n)}),Object(p.jsxs)("span",{children:[r[2]," ",r[1]]})]})]}),Object(p.jsxs)("div",{className:"col-10 col-md-8 col-lg-9 d-flex justify-content-around align-items-start py-3",children:[Object(p.jsxs)("div",{className:"d-flex justify-content-start align-items-start",children:[Object(p.jsx)("div",{className:"me-2 d-none d-md-block",children:Object(p.jsx)(b.a,{})}),Object(p.jsxs)("div",{className:"d-flex flex-column",children:[Object(p.jsxs)("span",{className:"fw-md-bold",children:[Math.round(t.temp.max),"\xb0"]}),Object(p.jsxs)("span",{className:"",children:[Math.round(t.temp.min),"\xb0"]})]})]}),Object(p.jsxs)("div",{className:"d-none d-md-flex justify-content-start align-items-start",children:[Object(p.jsx)("div",{className:"me-2",children:Object(p.jsx)(u.a,{})}),Object(p.jsx)("div",{className:"d-flex flex-column",children:Object(p.jsxs)("span",{className:"fw-md-bold",children:[parseFloat(t.rain||0).toFixed(1)," mm"]})})]}),Object(p.jsxs)("div",{className:"d-none d-md-flex justify-content-start align-items-start",children:[Object(p.jsx)("div",{className:"me-2",children:Object(p.jsx)(O.a,{})}),Object(p.jsxs)("div",{className:"d-flex flex-column",children:[Object(p.jsxs)("span",{className:"fw-md-bold",children:[Math.ceil(t.wind_speed)," m/s"]}),Object(p.jsxs)("span",{className:"",children:[Math.ceil(t.wind_gust)," m/s"]})]})]}),Object(p.jsxs)("div",{className:"d-flex d-md-none flex-column",children:[Object(p.jsxs)("div",{className:"d-flex justify-content-start align-items-start",children:[Object(p.jsx)("div",{className:"me-2",children:Object(p.jsx)(u.a,{})}),Object(p.jsx)("div",{className:"d-flex flex-column",children:Object(p.jsxs)("span",{className:"fw-md-bold",children:[parseFloat(t.rain||0).toFixed(1)," mm"]})})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-start align-items-start",children:[Object(p.jsx)("div",{className:"me-2",children:Object(p.jsx)(O.a,{})}),Object(p.jsx)("div",{className:"d-flex flex-column",children:Object(p.jsxs)("span",{className:"fw-md-bold",children:[Math.ceil(t.wind_speed)," (",Math.ceil(t.wind_gust),") m/s"]})})]})]}),Object(p.jsxs)("div",{className:"d-flex justify-content-start align-items-start",children:[Object(p.jsx)("div",{className:"me-2",children:Object(p.jsx)(f.a,{})}),Object(p.jsxs)("div",{className:"d-flex flex-column",children:[Object(p.jsx)("span",{className:"fw-md-bold",children:h(m(t.sunrise))}),Object(p.jsx)("span",{className:"",children:h(m(t.sunset))})]})]})]})]}),d&&Object(p.jsxs)("table",{className:"table table-light table-striped table-responsive mt-2 shadow",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",className:"text-center",children:"Time"}),Object(p.jsx)("th",{scope:"col",className:"text-center",children:"Weather"}),Object(p.jsx)("th",{scope:"col",className:"text-center",children:"Feels like"}),Object(p.jsx)("th",{scope:"col",className:"text-center",children:"Precipiation mm"}),Object(p.jsx)("th",{scope:"col",className:"text-center",children:"Humidity"})]})}),Object(p.jsx)("tbody",{children:c.length>0?c.map((function(e){return Object(p.jsx)(v,{data:e},e.dt)})):Object(p.jsx)("tr",{children:Object(p.jsx)("td",{colSpan:"5",className:"ps-3",children:"No available data"})})})]})]})},y=function(e){var t=e.showWeek,c=Object(s.useContext)(d).weather,a=Object(i.f)();return Object(p.jsxs)("div",{children:[c.daily?Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"row d-none d-md-flex",children:[Object(p.jsx)("div",{className:"col-md-3"}),Object(p.jsxs)("div",{className:"col-md-9 d-flex justify-content-around align-items-start",children:[Object(p.jsx)("span",{children:"Temperature"}),Object(p.jsx)("span",{children:"Precipitation per day"}),Object(p.jsx)("span",{children:"Wind / gust"}),Object(p.jsx)("span",{children:"Sunrise / sunset"})]})]}),c.daily.slice(0,t?7:3).map((function(e){return Object(p.jsx)(N,{data:e,hours:c.hourly.filter((function(t){return m(t.dt).getDate()===m(e.dt).getDate()}))},e.dt)}))]}):Object(p.jsx)("div",{children:"Nothing to display"}),Object(p.jsx)("div",{className:"pt-3",children:Object(p.jsx)("p",{className:"link-primary cursor-pointer",onClick:function(){a.push("/forecast")},children:!t&&"Show 7 day forecast"})})]})},g=function(){var e=Object(s.useContext)(d),t=e.weather,c=e.setWeather;return Object(p.jsxs)("div",{className:"row py-3",children:[Object(p.jsx)("div",{className:"col-12 col-md-6",children:Object(p.jsx)("h2",{className:"text-capitalize",children:t.city})}),Object(p.jsx)("div",{className:"col-12 col-md-6 d-md-flex justify-content-md-end",children:Object(p.jsx)("input",{className:"form-control",placeholder:"Search",onKeyPress:function(e){13===e.charCode&&(e.target.blur(),c({city:e.target.value}))}})})]})},w=function(){var e=Object(i.f)();return Object(p.jsx)("nav",{className:"navbar navbar-dark bg-dark",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("div",{className:"navbar-brand cursor-pointer",onClick:function(){e.push("/")},children:"JMHI"}),Object(p.jsx)("div",{className:"mx-auto text-muted",children:"Jockes meteorological and hydrological institute"})]})})},k=function(){return Object(p.jsx)("div",{children:Object(p.jsx)("h1",{children:"Oops! Page not found!"})})},S=c(13),M=c.n(S),F=c(18),C="https://api.openweathermap.org/data/2.5/",W="&units=metric&appid=be2fb2fb9f1886110a24b46d6a9e9303",P=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),c=t[0],a=t[1];return Object(s.useEffect)((function(){(function(){var e=Object(F.a)(M.a.mark((function e(){var t,s,n,r,l,i;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c.city||"Stockholm",e.next=4,fetch("".concat(C,"weather?q=").concat(t).concat(W));case 4:return s=e.sent,e.next=7,s.json();case 7:return n=e.sent,e.next=10,fetch("".concat(C,"onecall?lat=").concat(n.coord.lat,"&lon=").concat(n.coord.lon).concat(W));case 10:return r=e.sent,e.next=13,r.json();case 13:l=e.sent,i=Object.assign(l,{city:t}),a(i),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}})()()}),[c.city]),{weather:c,setWeather:a}};var T=function(){var e=P();return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(l.a,{children:[Object(p.jsx)(w,{}),Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)(d.Provider,{value:e,children:[Object(p.jsx)(g,{}),Object(p.jsxs)(i.c,{children:[Object(p.jsx)(i.a,{exact:!0,path:"/",children:Object(p.jsx)(y,{})}),Object(p.jsx)(i.a,{path:"/forecast",children:Object(p.jsx)(y,{showWeek:!0})}),Object(p.jsx)(k,{})]})]})})]})})};r.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(T,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.baadfa3e.chunk.js.map